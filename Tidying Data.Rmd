---
title: "Gathering Data"
author: "Ifechi Umeh"
date: "3/28/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(rvest)
```

```{r}
waste_total <- read_csv("final prj folder/plastic-waste-generation-total.csv")

waste_per_cap <- read_csv("final prj folder/plastic-waste-per-capita.csv")
waste_per_cap <-  waste_per_cap %>% 
                    select(c("Entity", "Per capita plastic waste (kg/person/day)"))

waste_totgbl_mismanage <- read_csv("final prj folder/mismanaged-waste-global-total.csv")
waste_totgbl_mismanage <-  waste_totgbl_mismanage %>% 
                             select(c("Entity", "Mismanaged waste (% global total)"))

waste_inadequate_manage <- read_csv("final prj folder/inadequately-managed-plastic.csv")
waste_inadequate_manage <-  waste_inadequate_manage %>% 
                              select(c("Entity", "Share of plastic inadequately managed"))
```

```{r}
webpage <- read_html("https://en.wikipedia.org/wiki/List_of_countries_by_population_in_2010")

pop <- html_table(webpage, fill = TRUE)
```

```{r}
country_pop <- pop[[2]]

names(country_pop) <- c("Rank", "Entity",
                      "Population_2010", "Chng_2005",
                      "Area_km2", "Popdens")

country_pop <- country_pop %>% 
  filter(Entity != "World")

country_pop$Population_2010 <- 
  as.numeric(str_remove_all(country_pop$Population_2010, ","))

country_pop$Area_km2 <- 
  as.numeric(str_remove_all(country_pop$Area_km2, ","))

country_pop <- country_pop %>% 
                 select(c("Entity", "Population_2010", "Area_km2"))
```

```{r}
country_gdp <- read_csv("final prj folder/imf-dm-export-20220328.csv")
country_gdp$`GDP per capita, current prices
  (U.S. dollars per capita)`
country_gdp <- country_gdp %>% 
                 select(c("GDP per capita~", "2010"))
```


```{r}
tab1 <- full_join(waste_total, country_pop, by = "Entity")
tab2 <- full_join(tab1, waste_per_cap, by = "Entity")
tab3 <- full_join(tab2, waste_totgbl_mismanage, by = "Entity")
tab4 <- full_join(tab3, waste_inadequate_manage, by = "Entity")
```



